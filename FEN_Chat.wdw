#To edit and compare internal_properties, use WINDEV integrated tools.
#Internal properties refer to the properties of controls in windows, reports, etc.
info :
 name : FEN_Chat
 major_version : 30
 minor_version : 0
 type : 2
 description : ""
 subtype : 0
window :
 name : FEN_Chat
 identifier : 0x29788a3d007bd8a5
 internal_properties : HgAAAB4AAADPQj1MnwEKfMovisuSuNsqdEzeb9zZzKSbxqFlAG+VoIAvMdZ0bmmdm6h4h5OpwLrcFAhCXAqmRSw6+5lfwcQKzkja3INMOeycks0QQLe/TRteVk2iAt4v48zsu/RHzCqvITIbuOQB5n2piZSmiiYTwn82bVc+UStEJsLUTLI62kolL/MhfSSbs7eIa++bLa8w22pA/tF7UpPm8+0EP8FJHaQU0EMvdQ7yetxgkoYB//d/rq0YoBVlV/dm/WV78ktUDakRI+V/salTCRAxVNYMYGB99KzmdNSqaYuFzt+9WigXlWRVBY1IbKSxlMIVPjHtuFoZ/wHFUI5w3UZ9/gulr1gaRfvISJEbSzelQk0pbDp0yxJZHHdHKo/HF5ESpR/oJOdLowRqddsXgaHkrSDpk+niuFTM38/HYSQY9UJQmUK5aRvm01vO33fPp2AZbrMzE31aFhqzJWJ57wiFdS1OJl92z07DJT1ADzipqLDG4B8Fzm5vrDm0acNrQXB/mFAZtn0hGFWGAbxzQySHxILvQKa9AnGjB3AeZLeQpfIuzDLxXyS/7GS+U/+HCm4+Nr5xY8V02ENMlenZGVHorraYyaFskUQfC3rqiXqKNxDe5184EcxvFLpDZd92+dQO9w5/SfwFYfd0Rd9buR+Lkp43MuoIY6YztA==
 properties :
  width : 1024
  height : 768
  widthClient : 1022
  heightClient : 736
 style : {}
 controls :
  -
    name : BTN_Envoyer
    identifier : 0x2978bba0021dc58f
    internal_properties : HgAAAB4AAADDyl9jaWFqI1xe0ZiHv3uz7p10KkaCijpBXzpaFbKbtECFfkWs3zWXhdAdMBdIpub7q2VS6UNs47m48QqWTWGpfVAjOMVmStKbxBmDJYYPt3w5iRyqE1jVkk4qd2zGZySJ0Q9S+EmW7TDPybn+aOhZfw8i0Eygq0J7auPLoWmMEW1B05g5vlhVtjCR7Qhd6Q06vnRn4sU0wLZ1DqRP3dSs/bYjGgozdUJsjPj4FXH+mhd9smJnw/zTX05Gt/jxIi9jB78LHTFpAJAw5gfRl2wFFvEJ5grn9Sn5Gfy7pHvPLgAKy0Wxn6I5iqsxwt084VrVaOpBS2CTaRU3f/Zawcyezv6xOhusGEqCEOjN+AjvJSKXiUueVa5xCaSV063kuOgOi1CIvMLlc2iDM91HUBvZDS8fOkmQSYfss5xrUTLBTwNO+Y/nBr4DAZJRs5+CTeBXe0NnxFtbYbCbtWbQTvMV+PTU3CY5rOK6TDCrhBN0kPK6O8Yytc6sSOQRVQX2wyZdbxUOJ5idxlSfWI9xKuQoml1uEPSCnmo+gVUR8PH8Sj/8n+t5w/BwzSUYH31jgEnBbAIatGT58WgR2AdbYQuswyk2xjo5GJh7HXh3TNqvWVGsXbd/8TccEJZcSls1dtrfYIlahIgFqtYwAQtxMbptvrrm3Kz0XCf1zjiEl/7DUzLqKdbRKon5qCl77Lkujy8l6i81v06Q+GIBb8TMpIP3mupGJktSh1N13O+Fr7Wi+FlNJOIo8YKWstOC38EAT5tsbYMNijLRH/Vglsn8XL3u61nx23gKCpjHdExI1BUxmZwiCrxy7iOHTEbjTTmVX+W2ZjzjH4IFbJrYHDaJx/cZBClPh4H7EYdLbcec4eK1uar9LSQXp5hCCyc=
    properties :
     x : 918
     y : 688
     width : 80
     height : 24
     anchor : 5
     accelerator_key : 65535
     tab_order : 2
    style : {}
    type : 4
    code_elements :
     type_code : 4
     p_codes :
      -
        code : |1+
         
         sMessage est une chaîne ANSI= SAI_Message.Valeur
         
         // Validation
         SI sMessage = "" ALORS
         	RETOUR
         FIN
         
         //// Nettoyer le message
         //sMessage	= Remplace(sMessage, TAB, " ")
         //sMessage	= Remplace(sMessage, RC, " ")
         
         SI Taille(sMessage) = 0 ALORS
         	RETOUR
         FIN
         
         // Vérifier la longueur maximale
         SI Taille(sMessage) > MAX_MESSAGE_LENGTH ALORS
         	ToastAffiche("Message trop long (max " + MAX_MESSAGE_LENGTH + " caractères)")
         	RETOUR
         FIN
         
         // Vérifier la connexion WebSocket
         SI PAS gWebSocket.IsConnected ALORS
         	ToastAffiche("Connexion perdue - tentative de reconnexion...")
         	//gWebSocket.reconn
         	RETOUR
         FIN
         
         // Désactiver temporairement l'envoi
         BTN_Envoyer.Etat	= Inactif
         SAI_Message.Etat	= Inactif
         
         // Ajouter immédiatement le message à l'interface
         
         // Envoyer via WebSocket
         SI gWebSocket.SendChatMessage(gAuth.GetUsername, sMessage) ALORS
         	// Succès - vider la saisie
         	SAI_Message.Valeur = ""
         	WriteLogMobile("Message envoyé: " + sMessage)
         SINON
         	// Échec - afficher erreur et supprimer le message ajouté
         	ToastAffiche("Échec d'envoi du message")
         	WriteLogMobile("Échec envoi message: " + gWebSocket.GetLastError)
         FIN
         
         // Réactiver l'envoi
         BTN_Envoyer.Etat	= Actif
         SAI_Message.Etat	= Actif
         DonneFocus(SAI_Message)
        type : 18
      -
        type : 161
        enabled : false
  -
    name : SAI_Message
    identifier : 0x298d6ac501fea43e
    internal_properties : HgAAAB4AAACok2MAdkwzokkMikmg7RABy4bGFRZDRrPf92/paiNKALUWnItkn/7JcHpv2z9Ylex2LBfyydFnnzr/PrCw/TW8g1OYxJA+S25sZ1q5K0gAga+spNwIsf24XmnNfLu49J6w6bsmx2ZGUoalFOqs4QkGC7kkCiJmdOmqmeJyYHo9DQTu//ia8cI42KA1EYIdXWnmmC73ah+iTRgaip/g0VgQHDn0sIdxZuJNncQa0gXzyzuHwqG39bGPh2D/dn1Oqfa01af55jWVVjmQhAQQ9dcaxe9p6RN8K4Ton7LVVJX0yMmf6tRbHHGL2t5VWdmkpQI54E6g0rJA1NOmMy18WTbV8r0gVuzJo64dVCnKhivYHr9zvcukx6Af3hSFgcI0OP5EULFbnzPOlglRl4pBW9nQU7i2zDvf77Ou4F6ajFvqVyWcyHGGusnCIxIsCPkx9dakfx6cQvbKwWcBrZjMFI2W8lyVYDNyOyBe/hYOCEbDHOEXRRH8TjvxzMspHM4F3eGGNX+E5j/YpV6ojBD2OL82URzUC5gnBWf1RSULlkBwRIXDn5PV5L6YiN1GdIE8L84e2dZpCKCN7ZJI0/rcMJJUhYtTE1TCG2/zDX+D6OX6QRyNJDVU8Ca334rUjdeVHQuvxGt+16MaZ9JWdBLoAbABwv3nNWS7PR7lgy3Xpa9Qc7Q7lFrycotp9q/DWTyO2jDTci8Ho0V7UFX1JHvFMwWkbSJ+vTtF0kcWZI8r5UXrTjQO/Nk6ZNh7Is5Dp7IuvXAMNLwU36MoDTInvG8OdFUcAWkS1AKUJ2O1lLt61sRIe5+yFKi3O3esr8oS6Blm3DOnJLgRv85qMG4vUsi24H5kjWsxwZisvZBW1aA+ZJvca0Fy5KGEpD6nL/PJ+hMaB6k/1oFWvz9g3mMxv4WkNiGIetaLiFKuecAFBFGgyJ6zA/CTw2giJq3XVgKrmnZXtANnHwRneT3Lc/brEoKmS6VVoIzjfTwyjLNPRJtnz4HK+AV0qLphJtSFsvzySAzIzRcouq8EIDzYBtqNxDcqxMWgt8XVfDrU5WI0hRpucrBZ997KYPO6i/AxwT5zOl8mKEdpZoM1OFIp3gNJxuoULOof8SdwyTrH5+Jbk1Pss2v1dX9KjRh1tRWcxYxo/NzkowJWz6FlAdMdTNXJafFbAehdo4SU+6uAb6JwzUvnU20K8RCGIOD4ZrHTIiXjJWnl5yWue9+NflmxtpuKJThjoi39LEOb1qjjPkI4g8df08ZwFTOQW9XCfOMgvMqbKwwV8dfE+7RPjEP68+OQ/P08zj6dCe9i0Twxh9Hkv7RuI5Cv/B8ItohRy4fDkMCUV0ozbMN4wk1i69Bovi9vXdttNsEVe6xhmxNQydK3Sr0U/aYeu3A2b6hDsaqWWRgChk1nvb/8L4zenMwM3gkLX4aTyYG6+746H+tEhHn2bnCTATV+iQIg//WsVgmgcpjpc+r14GyvywPA9lCEve/zk0YIr9N/rERzHo5ASjw0N750GhOccfWzhVmutqsLNU1qh5ZWa9IHNINQJvN9jJ5R+zjxAfwO5SEqXJyIsDFsMtIZrkQHSNj20jY1TzRoSoZzguH2vseS82y7ceX5s0ryW3aCGZQEqcoJLpti2H0OUouUIk1mlkab1bd4RswShDwIdEHQtt208oheBprXKUXhBzitIpDTG1YpO6YidgvtyYnCvDv4DSOvAgSvufHV/jdHlh83xOYNEW8bwWZiJY6gk2h8jsNh2fEaQAiIKOUdvt+/HHOiFGdNhgjFfoXaJTdEQ/EJoeFxOdyqQAOnqq1SU+tLVL49W3dKJ+feNRWkKef17GJNovx+cJoWtN21sLBOQzwgmb2rf8m08VMncVzKuKK5Rduu0XEtmjmVTiWL/C2SEctRXwBJG8KLuk4TeRmWLFICOGHpC608a3l1MNNpvAJ9wOm9rA==
    properties :
     x : 24
     y : 573
     width : 976
     height : 110
     anchor : 9
     accelerator_key : 65535
     tab_order : 1
    style : {}
    type : 2
    code_elements :
     type_code : 3
     p_codes :
      -
        type : 14
        enabled : false
      -
        type : 15
        enabled : false
      -
        type : 16
        enabled : false
      -
        type : 276
        enabled : false
      -
        type : 277
        enabled : false
      -
        type : 278
        enabled : false
      -
        type : 338
        enabled : false
      -
        type : 339
        enabled : false
      -
        type : 17
        enabled : false
  -
    name : ZR_Messages
    identifier : 0x298d71f503a0b712
    internal_properties : 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
    properties :
     x : 24
     y : 24
     width : 974
     height : 543
     anchor : 8
     anchor_ratio_pos_y : 0
     accelerator_key : 65535
     tab_order : 0
    style :
     scrollbar : {}
    controls :
     -
       name : LIB_Expediteur
       identifier : 0x298d723a03adc3df
       internal_properties : HgAAAB4AAACw29TMVqQLKw4WTg8W9wdOWnr08VCe+Y/sKeVB7g9WdIpzol/+RaEt3w0ysBL793b4blhZ8Glb0lsZE1xe0JdHWO4Wyrj2s9VkNpNp4VU/ljYFvCfsxRTQa61svxOARUYswb74LJQ7LTIjOnHfKmFGQkDLsuIH91PVSg2DYMXPwVnL/jF8hJ33lVtbajguqOl4ul3o0QkNrI6r2Dc98QcAL+0iLN7x/bichOTGo/qUAMGbT4z2UFSkMZFXFORv/dvHVfX9M7Ev/ZCOkD6ZlB/uevDUc+rFn7YCXwz7S65f1ZP53lZkORp9DidMmDKdH+s1CVWFzN6LFmHk6rQLA0bitLz/tLyZpxPijeWQenv7AR+03D9Hisa5wFJpjeS8uWn6ZLigz5FshlP/Iai4eQD96yn3Vme2kkhV3MCXLGzwzDsk+qZ13D58TpqSZtWSeWXyRoiuzYMsrlyRqQ==
       properties :
        x : 119
        y : 11
        width : 100
        height : 20
        anchor : 8
        tab_stop : 0
        take_focus : 0
       style : {}
       type : 3
       code_elements :
        type_code : 2
        p_codes : []
     -
       name : LIB_Message
       identifier : 0x298d723a03afc3fe
       internal_properties : HgAAAB4AAAAm5hyvkzHC2Hk3Bdt4iXHyln1bjRvvb05xUcPKpa02WRqhgTnJMysEbdU+9AnQIzLK2SrmWMXjGIjcpv9GY/7AF8LNNdp+pEmuKiJjq+KsvQ71nzpb3O3I+xHfv062YHsZJQUfcQuEjteNRqoqE3YhwhqmXPy/4lSvcIYQnCPIaRrFkyWgxSDB+oR61qMl0UcxIoM6wiAbNSeTKF6E7RcLGucA5kEbgcpIcmmj36vbrlq4/zY8ii7tZQDjXkqKUoMWHH/rNZeNtK41eB7ltVayWXeC8Uy34dM65NLFqfM+CeJQLno84TYkxqQI4iAiHjHCMMcHQkhVBYXr/oDzGMV2/VuNVvq/LfA8NIsG5F7ca+YJehunnia8ni/zbxpJhNFD95YQa60G/TFygFWhvn8x5sJJ2O0OtslJq8D9vmcZlr5lzH6hgOUIrnr3LaqQewCWHQeGHnxAZA4=
       properties :
        x : 29
        y : 31
        width : 100
        height : 20
        anchor : 8
        anchor_ratio_pos_y : 0
        tab_stop : 0
        take_focus : 0
       style : {}
       type : 3
       code_elements :
        type_code : 2
        p_codes : []
    columns : []
    type : 30
    code_elements :
     type_code : 42
     p_codes :
      -
        type : 35
        enabled : false
      -
        type : 22
        enabled : false
      -
        type : 24
        enabled : false
      -
        type : 23
        enabled : false
      -
        type : 25
        enabled : false
      -
        type : 230
        enabled : false
      -
        code : |1-
         
        type : 241
      -
        type : 340
        enabled : false
      -
        type : 222
        enabled : false
      -
        type : 223
        enabled : false
      -
        type : 224
        enabled : false
 menu :
  name : _Menu
  identifier : 0x292573e513b5f221
  internal_properties : HgAAAB4AAACwUzapYciPU4KPm3hNaqcT2Be1r3IhgjDrRpu4lE3tMRUPfKoor2aNNh4RT3D+bWAQrajEUZCItFvqbVMyJ/D1wYamR2uGQ45ejL0PwJatgChi22dSxg67b71ocidN/ZR/QUw7YZGhDVK/X1PvsfGSNcVlfii4VUROyCfoby4gbHrAJSUs+sU7tnb4ly1mTf0Ylfykiaf/YYGebpj8T7yhjLrtYx3gfF/hk4WiN+7WGowa9reA9zenk3T14XOyroG/kD6PiJbvRhDLY4BRMQZbCRzkV0ViI6HbaCzlxmWpQ1aOTYcl1sRH6uAqkF3CUa2s
  properties : {}
  style : {}
  options : []
 languages :
  - fr-FR
 popup_menus : []
 message_bar :
  internal_properties : HgAAAB4AAAAjFWXItEk/EPvcbGR+hALkgRfdOpVtIn+yZNxHnmSRFJegE/AnD2HbGAaMfhGCqfzkryHG9FVhjtF+iQYkZ59QBQ88Okhh0vjCoVhOagox2hvIqrJnU30QK15/ZA==
 actionbar : {}
 code_elements :
  type_code : 1
  p_codes :
   -
     code : |1+
      PROCEDURE MaFenêtre()
      STMessage est une Structure
      	sFrom		est une chaîne
      	sText		est une chaîne
      	dtTimestamp	est un DateHeure
      	nID			est un entier
      	bIsOwn		est un booléen
      FIN
      
      
      gListeMessages		est un tableau de STMessage
      gListeUtilisateurs	est un tableau de chaîne
      bMessagesScrolling	est un booléen	= Faux
      nDernierMessageID	est un entier	= 0
      
      Evénement(GestionShiftEnter	, "*.*", WM_KEYDOWN)
   -
     code : |1+
      // Vérifier l'authentification
      SI PAS gAuth.IsConnected() ALORS
      	ToastAffiche("Session expirée - redirection vers la connexion")
      	OuvreFenêtreMobile(FEN_Connexion)
      
      	RETOUR
      FIN
      
      // Vérifier que l'utilisateur a configuré son profil
      SI gAuth.GetUsername = "" ALORS
      	ToastAffiche("Configuration utilisateur requise")
      	OuvreFenêtreMobile(FEN_Connexion)
      	RETOUR
      FIN
      
      InitialiserListeMessages
      
      
     type : 34
   -
     code : |1+
      
      
     type : 234
   -
     code : |1+
      
      
     type : 165
   -
     code : |1+
      
      
     type : 177
   -
     type : 180
     enabled : false
   -
     type : 230
     enabled : false
   -
     code : |1+
      
      
     type : 2
  procedures :
   -
     name : InitialiserListeMessages
     procedure_id : 1835369173468055221
     type_code : 14
     code : |1+
      // Résumé : <indiquez ici ce que fait la procédure>
      // Syntaxe :
      // InitialiserListeMessages ()
      //
      // Paramètres :
      //	Aucun
      // Valeur de retour :
      // 	Aucune
      //
      // Exemple :
      // <Indiquez ici un exemple d'utilisation>
      //
      procédure InitialiserListeMessages()
      
      ZR_Messages.SupprimeTout()
      ZR_Messages.CouleurFond						= Transparent
     type : 458752
   -
     name : AjouterMessage
     procedure_id : 1835431652358160250
     type_code : 14
     code : |1-
      procédure AjouterMessage(sFrom est une chaîne ansi, sText est une chaîne ansi, dtTimestamp est un DateHeure = DateHeureSys)
      
      stMessage est un STMessage
      stMessage.sFrom			= sFrom
      stMessage.sText			= sText
      stMessage.dtTimestamp	= dtTimestamp
      stMessage.nID			+= nDernierMessageID
      stMessage.bIsOwn		= (sFrom = gAuth.GetUsername)
      
      gListeMessages.Ajoute(stMessage)
      
      nIndex est un entier =  ZR_Messages.AjouteLigne()
      
      
      
      // Remplir les champs de la ligne
      ZR_Messages[nIndex].LIB_Expediteur	= stMessage.sFrom
      ZR_Messages[nIndex].LIB_Message		= stMessage.sText
      ConfigurerStyleMessage(nIndex,stMessage.bIsOwn)
      ZR_Messages.Position(nIndex)
     type : 458752
   -
     name : ConfigurerStyleMessage
     procedure_id : 1835431798387081642
     type_code : 14
     code : |1-
      // Résumé : <indiquez ici ce que fait la procédure>
      // Syntaxe :
      // ConfigurerStyleMessage ()
      //
      // Paramètres :
      //	Aucun
      // Valeur de retour :
      // 	Aucune
      //
      // Exemple :
      // <Indiquez ici un exemple d'utilisation>
      //
      procédure ConfigurerStyleMessage(nIndex est un entier, bIsOwn est un booléen)
      monCadre est un Cadre
      monCadre.Trait		= TraitContinu
      monCadre.Epaisseur	= 5
      monCadre.Arrondi	= 10
      
      SI bIsOwn ALORS
      	// Message de l'utilisateur - aligné à droite
      	//ZR_Messages[nIndex].RECT_MessageContainer.CouleurFond	= COLOR_PRIMARY
      	//ZR_Messages[nIndex].RECT_MessageContainer.Ancrage		= ancreDroite
      	ZR_Messages[nIndex].LIB_Expediteur						= "moi"
      	ZR_Messages[nIndex].LIB_Expediteur.Visible				= Vrai
      	ZR_Messages[nIndex].LIB_Expediteur.Couleur				= VertClair
      	ZR_Messages[nIndex].LIB_Expediteur.PoliceGras			= Vrai
      	ZR_Messages[nIndex].LIB_Message.Couleur					= RVB(255, 255, 255)
      	ZR_Messages[nIndex].LIB_Message.CadrageHorizontal		= chDroite
      	monCadre.Couleur										= VertClair
      SINON
      	// Message d'un autre utilisateur - aligné à gauche
      	//ZR_Messages[nIndex].RECT_MessageContainer.CouleurFond	= RVB(224, 224, 224)
      	//ZR_Messages[nIndex].RECT_MessageContainer.Ancrage		= ancreHautGauche
      	ZR_Messages[nIndex].LIB_Message.CadrageHorizontal		= chGauche
      	ZR_Messages[nIndex].LIB_Message.Couleur					= RVB(255, 255, 255)
      	ZR_Messages[nIndex].LIB_Expediteur.Visible				= Vrai
      	ZR_Messages[nIndex].LIB_Expediteur.Couleur				= BleuClair
      	ZR_Messages[nIndex].LIB_Expediteur.PoliceGras			= Vrai
      	monCadre.Couleur										= BleuClair
      
      
      FIN
     type : 458752
   -
     name : ConnecterAuChat
     procedure_id : 1835432120510490914
     type_code : 14
     code : |1-
      // Résumé : <indiquez ici ce que fait la procédure>
      // Syntaxe :
      // ConnecterAuChat ()
      //
      // Paramètres :
      //	Aucun
      // Valeur de retour :
      // 	Aucune
      //
      // Exemple :
      // <Indiquez ici un exemple d'utilisation>
      //
      procédure ConnecterAuChat()
      
      SI PAS gAuth.IsConnected() ALORS
      	ToastAffiche("Session expirée")
      	RETOUR
      FIN
      
      sWebSocketURL	est une chaîne	= gConfig.GetWebSocketURL
      sToken			est une chaîne	= gAuth.GetAccessToken
      
      // Afficher un indicateur de connexion
      //AfficherIndicateurConnexion("Connexion au chat...")
      
      SI gWebSocket.Connect(sWebSocketURL, sToken) ALORS
      	WriteLogMobile("Connexion WebSocket initiée")
      SINON
      	ToastAffiche("Impossible de se connecter au chat")
      	//MasquerIndicateurConnexion()
      FIN
     type : 458752
   -
     name : GestionShiftEnter
     procedure_id : 1843111440439874625
     type_code : 14
     code : |1+
      //!
      //! @brief <indiquez ici ce que fait la procédure>
      //!
      //!
      procédure GestionShiftEnter()
      VK_RETURN	est un entier	= 0x0d
      nTouche		est un entier	= VK_RETURN	// Touche Entrée
      
      // Vérifie si la touche Entrée a été appuyée
      SI ToucheEnfoncée(nTouche) ET PAS ToucheEnfoncée(teShift) ALORS
      	// Insérer ici le traitement à effectuer
      	BTN_Envoyer.ExécuteTraitement(trtClic)
      FIN
      
     type : 458752
  procedure_templates : []
  property_templates : []
 code_parameters :
  internal_properties : HgAAAB4AAACoLZs0mW4lq5aP9aNErAlUOSHZ7X4ZrJFFT1JWjhhvitD/xL/r2Etbr+oKxbieVf7YoEoO7HUdc4CD59271o8AU+x7o881eemR/sfDJwMvJH35
  original_name : Modele1
resources :
 string_res :
  identifier : 0x19788a360041be47
  internal_properties : HgAAAB4AAAAEBvz4BdTt90ISSptwDJCphvKgZdUR2e2WGWtmgJlonsrIZP01S5+UbwYBB2sFt7MTEw==
custom_note :
 internal_properties : HgAAAB4AAAC68/W0/adbG0nFCRhrE42B5HRnbDzVHaz86sSQyxlBk7I=
rad :
 internal_properties : HgAAAB4AAABoAN7PLpwJW3EiA7WVZdCA5EwrCA1rvutcDHooMWKe
